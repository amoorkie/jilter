# Admin Service (Node.js)

–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è Job Filter MVP.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –æ–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π
- **–ü–∞—Ä—Å–∏–Ω–≥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Parser Service
- **AI –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI Service
- **–í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - HTML –∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Admin Service
‚îú‚îÄ‚îÄ server.js          # Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ public/            # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html     # HTML –∞–¥–º–∏–Ω–∫–∞
‚îú‚îÄ‚îÄ package.json       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ Dockerfile        # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üîß API Endpoints

### –í–∞–∫–∞–Ω—Å–∏–∏
```http
GET /api/vacancies              # –°–ø–∏—Å–æ–∫ –≤–∞–∫–∞–Ω—Å–∏–π
GET /api/pending               # –í–∞–∫–∞–Ω—Å–∏–∏ –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏
GET /api/vacancies/:id         # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è
PUT /api/vacancies/:id         # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
DELETE /api/vacancies/:id      # –£–¥–∞–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
POST /api/moderate/:id         # –ú–æ–¥–µ—Ä–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏
```

### –ü–∞—Ä—Å–∏–Ω–≥
```http
POST /api/parse                # –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
POST /api/parse/geekjob        # –ü–∞—Ä—Å–∏–Ω–≥ Geekjob
POST /api/parse/hh             # –ü–∞—Ä—Å–∏–Ω–≥ HH.ru
POST /api/parse/habr           # –ü–∞—Ä—Å–∏–Ω–≥ Habr
```

### AI –û–±—Ä–∞–±–æ—Ç–∫–∞
```http
POST /api/ai/analyze           # –ê–Ω–∞–ª–∏–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
POST /api/ai/clean             # –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
POST /api/ai/format            # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
POST /api/normalize            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–∏
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```http
GET /api/stats                 # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
GET /api/health               # Health check
```

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start

# –ò–ª–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t job-filter-admin-service .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 3001:3001 job-filter-admin-service
```

## üåê –í–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –∞–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://localhost:3001
```

### –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∫–∏:
- **üìã –í–∞–∫–∞–Ω—Å–∏–∏** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–π
- **‚ö° –ü–∞—Ä—Å–∏–Ω–≥** - –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **ü§ñ AI –û–±—Ä–∞–±–æ—Ç–∫–∞** - –∞–Ω–∞–ª–∏–∑ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
- **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
PORT=3001                                    # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
DATABASE_SERVICE_URL=http://localhost:8081  # URL Database Service
PARSER_SERVICE_URL=http://localhost:8080    # URL Parser Service
AI_SERVICE_URL=http://localhost:5000        # URL AI Service
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **express** - –≤–µ–± —Å–µ—Ä–≤–µ—Ä
- **axios** - HTTP –∫–ª–∏–µ–Ω—Ç
- **cors** - CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **helmet** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **morgan** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Database Service
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º

### Parser Service
- –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### AI Service
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞
- –û—á–∏—Å—Ç–∫–∞ –æ—Ç HTML/JS –∫–æ–¥–∞
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Health Check
```bash
curl http://localhost:3001/api/health
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
```bash
curl -X POST http://localhost:3001/api/parse \
  -H "Content-Type: application/json" \
  -d '{"sources": ["geekjob"], "pages": 1, "query": "–¥–∏–∑–∞–π–Ω–µ—Ä"}'
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI
```bash
curl -X POST http://localhost:3001/api/ai/analyze \
  -H "Content-Type: application/json" \
  -d '{"text": "–ò—â–µ–º UI/UX –¥–∏–∑–∞–π–Ω–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"}'
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–ü–∞–º—è—Ç—å:** 50-100MB
- **CPU:** 10-20% –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- **–°–µ—Ç—å:** 50-100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞:** < 100ms

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ AI –∑–∞–ø—Ä–æ—Å–æ–≤

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –£—Ä–æ–≤–Ω–∏: INFO, WARN, ERROR
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose
```yaml
admin-service:
  build: ./admin-service
  ports:
    - "3001:3001"
  environment:
    - DATABASE_SERVICE_URL=http://database-service:8081
    - PARSER_SERVICE_URL=http://parser-service:8080
    - AI_SERVICE_URL=http://ai-service:5000
  depends_on:
    - database-service
    - parser-service
    - ai-service
```

### Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: admin-service
spec:
  replicas: 2
  selector:
    matchLabels:
      app: admin-service
  template:
    metadata:
      labels:
        app: admin-service
    spec:
      containers:
      - name: admin-service
        image: job-filter-admin-service:latest
        ports:
        - containerPort: 3001
        env:
        - name: DATABASE_SERVICE_URL
          value: "http://database-service:8081"
```

## üîß –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
```bash
# Docker –ª–æ–≥–∏
docker logs admin-service

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
# –í—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Database Service
curl http://localhost:8081/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Parser Service
curl http://localhost:8080/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ AI Service
curl http://localhost:5000/api/health
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Express Documentation](https://expressjs.com/)
- [Axios Documentation](https://axios-http.com/)
- [Node.js Documentation](https://nodejs.org/docs/)
- [Docker Documentation](https://docs.docker.com/)







