# Parser Service (Go)

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–∞–∫–∞–Ω—Å–∏–π –Ω–∞ Go –¥–ª—è Job Filter MVP.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - Go –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –ø–∞—Ä—Å–∏–Ω–≥
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –º–µ—Ö–∞–Ω–∏–∑–º—ã
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

### 1. Geekjob.ru
- –ü–∞—Ä—Å–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

### 2. HH.ru
- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–∞–∫–∞–Ω—Å–∏–π
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### 3. Habr Career
- –ü–∞—Ä—Å–∏–Ω–≥ IT –≤–∞–∫–∞–Ω—Å–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Parser Service
‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ parsers/         # –ü–∞—Ä—Å–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ geekjob.go   # –ü–∞—Ä—Å–µ—Ä Geekjob.ru
‚îÇ   ‚îú‚îÄ‚îÄ hh.go        # –ü–∞—Ä—Å–µ—Ä HH.ru
‚îÇ   ‚îî‚îÄ‚îÄ habr.go      # –ü–∞—Ä—Å–µ—Ä Habr Career
‚îú‚îÄ‚îÄ main.go          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îî‚îÄ‚îÄ go.mod           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üîß API Endpoints

### Health Check
```http
GET /api/health
```

### –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```http
POST /api/parse
Content-Type: application/json

{
  "sources": ["geekjob", "hh", "habr"],
  "pages": 2,
  "query": "–¥–∏–∑–∞–π–Ω–µ—Ä"
}
```

### –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
```http
POST /api/parse/geekjob
POST /api/parse/hh
POST /api/parse/habr

Content-Type: application/json

{
  "query": "–¥–∏–∑–∞–π–Ω–µ—Ä",
  "pages": 2
}
```

### –°—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–∏–Ω–≥–∞
```http
GET /api/parse/status/{job_id}
```

## üöÄ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod tidy

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
go run main.go

# –ò–ª–∏ —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
go build -o parser-service .
./parser-service
```

### Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t job-filter-parser-service .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 8080:8080 job-filter-parser-service
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–ü–∞—Ä—Å–∏–Ω–≥:** 50 –≤–∞–∫–∞–Ω—Å–∏–π –∑–∞ 30-60 —Å–µ–∫—É–Ω–¥
- **–ü–∞–º—è—Ç—å:** 50-100MB
- **CPU:** 20-30% –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –ø–∞—Ä—Å–∏–Ω–≥–µ
- **–°–µ—Ç—å:** 50-100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
- Batch —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–∞–∫–∞–Ω—Å–∏–π

### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–∏–∑–∞–π–Ω–∞
- –¥–∏–∑–∞–π–Ω, design, ui, ux
- –≤–µ–±-–¥–∏–∑–∞–π–Ω, web design
- –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω, graphic design
- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, interface
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç, user experience
- figma, sketch, adobe, photoshop

### –ò—Å–∫–ª—é—á–∞—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- –º–µ–±–µ–ª—å, —Ç–µ–∫—Å—Ç–∏–ª—å, –æ–¥–µ–∂–¥–∞, –º–æ–¥–∞
- —é–≤–µ–ª–∏—Ä–Ω—ã–π, —É–∫—Ä–∞—à–µ–Ω–∏—è, –±–∏–∂—É—Ç–µ—Ä–∏—è
- –∏–Ω—Ç–µ—Ä—å–µ—Ä, –¥–µ–∫–æ—Ä, –ª–∞–Ω–¥—à–∞—Ñ—Ç
- –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π, –º–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ
- –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
go test ./...

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
go test ./parsers

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
# Health check
curl http://localhost:8080/api/health

# –ü–∞—Ä—Å–∏–Ω–≥ Geekjob
curl -X POST http://localhost:8080/api/parse/geekjob \
  -H "Content-Type: application/json" \
  -d '{"query": "–¥–∏–∑–∞–π–Ω–µ—Ä", "pages": 1}'
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –ª–æ–≥–∏
- –£—Ä–æ–≤–Ω–∏: DEBUG, INFO, WARN, ERROR
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –°—Ç–∞—Ç—É—Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
PORT=8080                           # –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
DATABASE_SERVICE_URL=http://localhost:8081  # URL Database Service
TIMEOUT=30s                         # –¢–∞–π–º–∞—É—Ç HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
DELAY=1s                            # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤
```go
// –¢–∞–π–º–∞—É—Ç –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
timeout := 30 * time.Second

// –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
delay := 1 * time.Second

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
parser := NewGeekjobParser(databaseService, timeout, delay)
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose
```yaml
parser-service:
  build: ./parser-service
  ports:
    - "8080:8080"
  environment:
    - DATABASE_SERVICE_URL=http://database-service:8081
  depends_on:
    - database-service
```

### Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: parser-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: parser-service
  template:
    metadata:
      labels:
        app: parser-service
    spec:
      containers:
      - name: parser-service
        image: job-filter-parser-service:latest
        ports:
        - containerPort: 8080
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs parser-service

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
docker logs -f parser-service
```

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# CPU –ø—Ä–æ—Ñ–∏–ª—å
go tool pprof http://localhost:8080/debug/pprof/profile

# –ü–∞–º—è—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
go tool pprof http://localhost:8080/debug/pprof/heap
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Go Documentation](https://golang.org/doc/)
- [Gin Framework](https://gin-gonic.com/)
- [Goquery Library](https://github.com/PuerkitoBio/goquery)
- [Logrus Logging](https://github.com/sirupsen/logrus)







